<span style="color:purple">Модель экосистемы</span>
- # *Главные сущности*
- ## *Animal*
- ## *Predator*
- ## *Victim*
- ## *Plant*
- ## *Ecosystem*
- ## *FoodChain*
- ## *BioDiversity*
<span style="color:#59afe1"> Animal </span>
## Базовый класс для всех животных, определяющий общие свойства и поведение.
### Методы:

    eat(food) - абстрактный метод для поедания пищи (должен быть реализован в дочерних классах).

    reproduce() - размножается, если энергии достаточно.

    die() - умирает (здоровье становится 0).

    defend() - защищается, если зОтчёт по программе: Симуляция экосистемы
Описание
Программа представляет собой веб-приложение, разработанное с использованием FastAPI, для симуляции экосистемы, включающей животных (хищников и жертв) и растения. Основана на модели из лабораторной работы №1 ("Модель животного мира"). Приложение позволяет пользователям управлять экосистемой через интуитивно понятный веб-интерфейс, стилизованный с использованием Bootstrap 5.3 и кастомного CSS. Программа поддерживает автоматическую смерть организмов при здоровье 0, корректную сериализацию состояния с помощью jsonpickle, добавление несъедобных растений при пустом чекбоксе is_edible, и устранение ошибок, таких как ValueError: list.remove(x): x not in list.
Функциональность
Программа предоставляет следующие возможности:

Просмотр экосистемы: Отображение списков животных и растений в таблицах с информацией о имени, виде, энергии, здоровье, статусе (жив/мёртв с цветовой индикацией) и съедобности растений.
Добавление организмов: Создание хищников, жертв и растений через формы с валидацией. Несъедобные растения создаются при пустом чекбоксе is_edible.
Удаление организмов: Удаление животных и растений по имени.
Взаимодействия: Симуляция взаимодействий, где хищники поедают жертв, а жертвы питаются растениями.
Размножение: Организмы размножаются при достаточном уровне энергии (животные) или здоровья (растения).
Потребление ресурсов: Жертвы потребляют растения, влияя на их здоровье.
Проверка баланса: Оценка баланса экосистемы на основе количества хищников, жертв и растений.
Биоразнообразие: Отображение уникальных видов животных и растений.
Пищевые цепочки: Управление цепочками питания через добавление организмов.
Автоматическая смерть: Организмы умирают при здоровье 0, автоматически удаляясь из экосистемы.
Сохранение состояния: Сохранение и загрузка состояния экосистемы в файл ecosystem.json с обработкой ошибок десериализации.
Интерфейс: Адаптивный веб-интерфейс с навигационной панелью, карточками, таблицами, цветовой индикацией статуса и стилизованными формами.

Краткое описание классов
1. Animal (файл: animal.py)

Назначение: Базовый класс для всех животных, определяющий общие свойства и поведение.
Основные атрибуты:
_name: Имя животного.
_species: Вид животного.
_energy: Уровень энергии (макс. 100).
_health: Уровень здоровья (макс. 100).
_is_alive: Булевый флаг, указывающий, живо ли животное.


Основные методы:
eat: Абстрактный метод, реализован в подклассах.
reproduce: Создаёт потомство при энергии ≥ 50.
die: Устанавливает _is_alive = False и _health = 0.
defend: Выводит сообщение, если животное живо.
is_alive: Возвращает статус _is_alive.


Особенности: Использует сеттеры для сериализации через jsonpickle, автоматически вызывает die при _health <= 0.

2. Predator (файл: predator.py)

Назначение: Подкласс Animal, представляющий хищников.
Основные методы:
eat: Хищник поедает жертву (Victim), увеличивая энергию на 20 и обнуляя здоровье жертвы.
hunt: Выводит сообщение о начале охоты при энергии > 10.


Особенности: Проверяет is_alive() перед действиями, наследует автоматическую смерть от Animal.

3. Victim (файл: victim.py)

Назначение: Подкласс Animal, представляющий жертв.
Основные методы:
eat: Жертва поедает съедобное растение, увеличивая энергию на 10 и уменьшая здоровье растения на 30.
defend: Убегает от хищников при энергии > 10, иначе умирает.


Особенности: Проверяет is_alive() и съедобность растения, наследует автоматическую смерть.

4. Plant (файл: plant.py)

Назначение: Класс для растений, определяющий их свойства и поведение.
Основные атрибуты:
_name: Имя растения.
_species: Вид растения.
_is_edible: Булевый флаг съедобности.
_health: Уровень здоровья (макс. 100).
_is_alive: Булевый флаг, указывающий, живо ли растение.


Основные методы:
grow: Увеличивает здоровье на 10.
reproduce: Создаёт новое растение при здоровье ≥ 50.
die: Устанавливает _is_alive = False и _health = 0.
defend: Выводит сообщение о защите (токсины для несъедобных растений).


Особенности: Использует сеттеры, автоматически умирает при _health <= 0.

5. Ecosystem (файл: ecoSystem.py)

Назначение: Центральный класс, управляющий экосистемой.
Основные атрибуты:
bioDiversity: Объект BioDiversity для отслеживания видов.
animals: Список животных.
plants: Список растений.
foodChains: Список пищевых цепочек.


Основные методы:
addAnimal/addPlant: Добавляет животное или растение.
interact: Симулирует взаимодействия (хищники едят жертв, жертвы едят растения).
reproduceAndSurvive: Запускает размножение.
consumeResources: Жертвы потребляют растения.
checkBalance: Проверяет баланс экосистемы.
defend_against_threats: Вызывает защиту организмов.


Особенности: Исправлена ошибка ValueError: list.remove(x): x not in list с помощью проверок in.

6. FoodChain (файл: foodChain.py)

Назначение: Класс для управления пищевыми цепочками.
Основные атрибуты:
chain: Список организмов в цепочке.


Основные методы:
add_link: Добавляет организм в цепочку.


Особенности: Простая структура для хранения последовательности организмов.

7. BioDiversity (файл: bioDiversity.py)

Назначение: Класс для отслеживания биоразнообразия.
Основные атрибуты:
numberOfPlantsVariety: Множество видов растений.
numberOfAnimalsVariety: Множество видов животных.


Основные методы:
addPlantVariety/addAnimalVariety: Добавляет вид в множество.


Особенности: Использует множества для уникальности видов.

Структура проекта

main.py: FastAPI-приложение, обслуживает маршруты и статические файлы.
static/styles.css: Кастомные стили для интерфейса.
templates/: HTML-шаблоны (index.html, add_animal.html, add_plant.html, biodiversity.html, food_chain.html) с Bootstrap и CSS.
Модель: ecoSystem.py, animal.py, plant.py, predator.py, victim.py, foodChain.py, bioDiversity.py.
ecosystem.json: Файл для сохранения состояния.

Установка и запуск

Установите зависимости:
pip install fastapi uvicorn jinja2 jsonpickle


Разместите файлы в корневой папке, создайте папки templates и static.

Запустите приложение:
uvicorn main:app --reload


Откройте http://127.0.0.1:8000 в браузере.


Исправленные ошибки

AttributeError: 'Predator' object has no attribute '_is_alive': Исправлено добавлением _is_alive в Animal и синхронизацией файлов.
ValueError: list.remove(x): x not in list: Исправлено добавлением проверок in в Ecosystem.interact.

Интерфейс

Дизайн: Адаптивный интерфейс с Bootstrap 5.3 и кастомным CSS.
Элементы: Навигационная панель, таблицы с цветовой индикацией (зелёный для “Жив”, красный для “Мёртв”), карточки, стилизованные формы.
Удобство: Чёткие сообщения об успехе/ошибке, интуитивная навигация.

Заключение
Программа представляет собой полноценную симуляцию экосистемы с удобным веб-интерфейсом. Она обеспечивает управление организмами, симуляцию взаимодействий и анализ экосистемы, с надёжной обработкой ошибок и сохранением состояния. Интерфейс делает приложение доступным и визуально привлекательным, а исправления ошибок гарантируют стабильность.
доровье больше 0.

<span style="color:#59af"> Predator </span>
## Класс хищника, который наследует от Animal и реализует охоту.
### Методы:

    eat(food) - хищник ест жертву (объект класса Victim).

    hunt() - хищник охотится, если у него достаточно энергии.

<span style="color:#59f"> Victim </span>
## Класс жертвы, который наследует от Animal и реализует поедание растений.
### Методы:

    eat(food) - жертва ест растение (объект класса Plant). Если растение несъедобное, выводится предупреждение.

    defend() - жертва убегает от хищников, если у нее достаточно энергии, иначе умирает.

<span style="color:#61eb34"> Plant </span>
## Класс растения, который определяет свойства и поведение растений.
### Методы:

    grow() - растение растет, увеличивая здоровье.

    reproduce() - размножается, если здоровья достаточно.

    die() - умирает (здоровье становится 0).

    defend() - защищается (выделяет токсины, если несъедобное).

<span style="color:#ebdc34"> Ecosystem </span>
## Класс экосистемы, который управляет всеми объектами (животными, растениями, цепочками).
### Методы:

    addAnimal(animal) - добавляет животное в экосистему.

      (plant) - добавляет растение в экосистему.

    addFoodChain(foodChain) - добавляет пищевую цепочку.
    
    removeFoodChain(index) - удаляет пищевую цепочку по индексу.
    
    interact() - взаимодействие между животными и растениями.
    
    reproduceAndSurvive() - размножение животных и растений.
    
    consumeResources() - потребление ресурсов (жертвы едят растения).
    
    checkBalance() - проверка баланса экосистемы.
    
    defend_against_threats() - защита от угроз (животные и растения защищаются).

<span style="color:#2a9f9f"> FoodChain </span>
## Класс пищевой цепочки, который управляет цепочками организмов.
### Методы:

    add_link(organism) - добавляет организм (животное или растение) в цепочку.
    
    remove_link(name) - удаляет организм из цепочки по имени.
    
    show_info() - выводит информацию о цепочке.

<span style="color:#2a9f9f"> BioDiversity </span>
## Класс биоразнообразия, который отслеживает разнообразие видов растений и животных.
### Методы:

    addPlantVariety(plantName) - добавляет вид растения.
    
    addAnimalVariety(animalName) - добавляет вид животного.
    
    showInfo() - выводит информацию о биоразнообразии.

# Диаграммы
## UML-диаграмма классов:
![image](https://github.com/user-attachments/assets/0c6089b0-e98c-47df-921f-c886783917b6)


## UML-диаграмма состояний:
![image](https://github.com/user-attachments/assets/0cd94e53-13cc-4933-a001-045131f72545)


### Взаимодействие классов

- `Хищники (Predator)` охотятся на жертв (Victim).

- `Жертвы (Victim)` едят растения (Plant).

- `Растения` могут быть съедобными или несъедобными, размножаются и растут.

- `Экосистема (Ecosystem)` управляет всеми объектами, проверяет баланс и взаимодействие.

- `Пищевые цепочки (FoodChain)` описывают, кто кого ест.

- `Биоразнообразие (BioDiversity)` отслеживает разнообразие видов.

Заключение
Модель экосистемы представляет собой гибкую и расширяемую систему, которая может быть использована для симуляции взаимодействий между различными организмами. Она включает в себя животных, растения, пищевые цепочки и биоразнообразие, а также управляющий класс Ecosystem, который координирует все процессы.
